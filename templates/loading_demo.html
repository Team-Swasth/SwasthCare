{% extends 'base.html' %}

{% block title %}SwasthCare - Loading Demo{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h3 class="mb-0">
                        <i class="bi bi-lightning-charge"></i> Loading Animation Demo
                    </h3>
                </div>
                <div class="card-body">
                    <p class="lead">Test the global loading animations with different scenarios:</p>
                    
                    <div class="d-grid gap-3">
                        <button class="btn btn-primary btn-lg" onclick="demoBasicLoading()">
                            <i class="bi bi-play-circle"></i> Basic Loading
                        </button>
                        
                        <button class="btn btn-success btn-lg" onclick="demoSwasthCareLoading()">
                            <i class="bi bi-heart-pulse"></i> SwasthCare Branded Loading
                        </button>
                        
                        <button class="btn btn-info btn-lg" onclick="demoAILoading()">
                            <i class="bi bi-robot"></i> AI Processing Loading
                        </button>
                        
                        <button class="btn btn-warning btn-lg" onclick="demoScanLoading()">
                            <i class="bi bi-upc-scan"></i> Product Scan Loading
                        </button>
                        
                        <button class="btn btn-secondary btn-lg" onclick="demoProgressiveLoading()">
                            <i class="bi bi-arrow-clockwise"></i> Progressive Loading
                        </button>
                    </div>
                    
                    <hr class="my-4">
                    
                    <div class="alert alert-info">
                        <h6><i class="bi bi-info-circle"></i> How it works:</h6>
                        <ul class="mb-0">
                            <li>The loading overlay automatically appears for AJAX requests</li>
                            <li>Different messages show based on the request type</li>
                            <li>SwasthCare branding can be enabled for branded experiences</li>
                            <li>Works with both light and dark themes</li>
                            <li>Includes blur backdrop and smooth animations</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    function demoBasicLoading() {
        showGlobalLoading('Loading...', 'Please wait while we process your request');
        setTimeout(hideGlobalLoading, 3000);
    }
    
    function demoSwasthCareLoading() {
        showGlobalLoading('SwasthCare AI', 'Analyzing your health data...', true);
        setTimeout(hideGlobalLoading, 4000);
    }
    
    function demoAILoading() {
        showGlobalLoading('AI Processing', 'Our AI is thinking hard about your question...', true);
        
        // Simulate progressive updates
        setTimeout(() => {
            updateGlobalLoading('AI Processing', 'Analyzing nutritional data...');
        }, 1500);
        
        setTimeout(() => {
            updateGlobalLoading('AI Processing', 'Generating personalized recommendations...');
        }, 3000);
        
        setTimeout(hideGlobalLoading, 5000);
    }
    
    function demoScanLoading() {
        showGlobalLoading('Product Scanner', 'Initializing camera access...', true);
        
        setTimeout(() => {
            updateGlobalLoading('Product Found!', 'Redirecting to product details...');
        }, 2000);
        
        setTimeout(hideGlobalLoading, 4000);
    }
    
    function demoProgressiveLoading() {
        const messages = [
            { title: 'Connecting...', message: 'Establishing secure connection...' },
            { title: 'Authenticating...', message: 'Verifying your credentials...' },
            { title: 'Loading Data...', message: 'Fetching your information...' },
            { title: 'Processing...', message: 'Analyzing results...' },
            { title: 'Almost Done...', message: 'Finalizing everything...' }
        ];
        
        showGlobalLoading(messages[0].title, messages[0].message, true);
        
        messages.slice(1).forEach((msg, index) => {
            setTimeout(() => {
                updateGlobalLoading(msg.title, msg.message);
            }, (index + 1) * 1000);
        });
        
        setTimeout(hideGlobalLoading, messages.length * 1000 + 500);
    }
</script>
{% endblock %}
